<html xmlns:th="https://thymeleaf.org">
<head>
<meta charset="ISO-8859-1">
<title>Authorize Code</title>
<style type="text/css">
*{
  margin: 0;
  padding: 0;
}
.block{
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%,-50%);
}
</style>
<script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
<div class="block rounded shadow bg-slate-200 flex flex-col overflow-hidden">
  <div class="py-10 text-center text-2xl px-6">Getting authorization code success</div>
  <div class="p-3 bg-[#23a4a6] text-slate-200 flex itmes-center justify-center w-full">
      <div class="overflow-hidden rounded-lg ring-slate-100 flex ring-2">
        <input id="code" readonly="readonly" th:value="${code}" class="px-3 text-slate-500 truncate py-2 focus:outline-none focus:border-none">
        <button class="px-3 py-2 uppercase text-sm" id="copy">Copy</button>
      </div>
  </div>
</div>
<script type="text/javascript">
var button = document.getElementById("copy");
button.addEventListener("click",copyToClipboard);
var t = null;
function copyToClipboard() {
    var textBox = document.getElementById("code");
    textBox.select();
    document.execCommand("copy");
    if(this.innerText.toLowerCase() =="copy"){
    	this.innerText = "COPIED"
    }
    if(t!=null){
    	clearInterval(t)
    }
    t = setInterval(()=>{
		this.innerText = "COPY"
	},5000)
}
</script>
</body>
</html>